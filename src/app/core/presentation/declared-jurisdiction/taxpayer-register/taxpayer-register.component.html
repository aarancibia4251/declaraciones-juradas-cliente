<app-register-dj>
  <ng-container Content>
      <form nz-form [formGroup]="taxPayerPresenterSrv.taxpayerFormGroup" [ngClass]="'all-width'">
        <div class="register-dj__identification">
          <nz-divider nzText="Identificaci贸n de Contribuyentes" [ngClass]="'color-juris-black'" nzOrientation="left"></nz-divider>
          <div nz-row>
            <div nz-col [nzMd]="4" [nzXs]="24">
              <nz-form-item [ngClass]="'taxpayer__item'">
                <label for="typePerson" class="form-label taxpayer__item--label color-juris-gris">Tipo de persona</label>
                <nz-form-control [nzSm]="24" [nzXs]="24" nzErrorTip="The input is not valid E-mail!">
                  <nz-select formControlName="typePersonFormControl" name="typePerson" id="typePerson">
                    <nz-option *ngFor="let typePerson of typePersons" [nzValue]="typePerson.id" [nzLabel]="typePerson.name"></nz-option>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div class="mr-2"></div>
            <ng-container [ngSwitch]="taxPayerPresenterSrv.typePersonFormControl?.value">
              <ng-container *ngSwitchCase="1">
                <ng-container  *ngTemplateOutlet="naturalPerson"></ng-container>
              </ng-container>
              <ng-container *ngSwitchCase="2">
                <ng-container  *ngTemplateOutlet="juridicPerson"></ng-container>
              </ng-container>
              <ng-container *ngSwitchCase="3">
                <ng-container  *ngTemplateOutlet="naturalPerson"></ng-container>
              </ng-container>
              <ng-container *ngSwitchCase="4">
                <ng-container *ngTemplateOutlet="naturalPerson"></ng-container>
              </ng-container>
            </ng-container>
          </div>
        </div>
        <div class="register-dj__representant" *ngIf="taxPayerPresenterSrv.typePersonFormControl?.value !== 1">
          <nz-divider [nzText]="taxPayerPresenterSrv.typePersonFormControl?.value !== 4 ? 'Representante' : 'Conyugue'" [ngClass]="'color-juris-black'" nzOrientation="left"></nz-divider>
          <div nz-row>
            <ng-container *ngTemplateOutlet="legalRepresentative"></ng-container>
          </div>
        </div>
        <app-fiscal-address-dj [ngClass]="'register-dj__fiscaladdress mt-2'"
                               [fiscalAddressFormGroup]="taxPayerPresenterSrv.fiscalAddressFormGroup"></app-fiscal-address-dj>
        <div class="register-dj__communication mt-2">
          <nz-divider nzText="Comunicaci贸n" [ngClass]="'color-juris-black'" nzOrientation="left"></nz-divider>
          <div nz-row>
            <div nz-col [nzMd]="4" [nzXs]="24">
              <app-form-input [ngClass]="'taxpayer__item'" [label]="'Telefono'"
                              name="telephone" formControlName="telephoneFormControl"></app-form-input>
            </div>
            <div class="mr-2"></div>
            <div nz-col [nzMd]="4" [nzXs]="24">
              <app-form-input [ngClass]="'taxpayer__item'" [label]="'Celular'"
                              name="cellphone" formControlName="cellphoneFormControl"></app-form-input>
            </div>
            <div class="mr-2"></div>
            <div nz-col [nzMd]="6" [nzXs]="24">
              <app-form-input [ngClass]="'taxpayer__item'" [label]="'Correo electr贸nico'"
                              name="email" formControlName="emailFormControl"></app-form-input>
            </div>
          </div>
        </div>
      </form>
  </ng-container>
  <ng-container BUTTONS>
    <div nz-row class="register-buttons-dj">
      <div nz-col [nzMd]="2">
        <button nz-button nzType="default" nzDanger (click)="cancelRegister()">
          <i nz-icon nzType="close" nzTheme="outline"></i>
          Cancelar
        </button>
      </div>
      <div nz-col [nzMd]="20"></div>
      <div nz-col [nzMd]="2">
        <button nz-button (click)="saveTaxPayer()">
          Siguiente
          <i nz-icon nzType="right" nzTheme="outline"></i>
        </button>
      </div>
    </div>
  </ng-container>
</app-register-dj>

<ng-template #naturalPerson>
  <ng-container [formGroup]="taxPayerPresenterSrv.taxpayerFormGroup">
    <div class="mb-2" nz-col [nzMd]="4" [nzXs]="24">
      <app-form-select [ngClass]="'taxpayer__item'" [label]="'Tipo de documento'" [list]="typeDocs" name="typeDoc" formControlName="typeDocFormControl"></app-form-select>
    </div>
    <div class="mr-2"></div>
    <div class="mb-2"  nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'# de documento'" name="nroDoc" formControlName="nroDocFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div class="mb-2" nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Nombres'" name="names" formControlName="namesFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div class="mb-2" nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Apellido paterno'" name="lastName" formControlName="lastNameFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div class="mb-2" nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Apellido materno'" name="motherLastname" formControlName="motherLastnameFormControl"></app-form-input>
    </div>
  </ng-container>
</ng-template>

<ng-template #juridicPerson>
  <ng-container [formGroup]="taxPayerPresenterSrv.taxpayerFormGroup">
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-select [ngClass]="'taxpayer__item'" [label]="'Tipo de documento'" [list]="typeDocs" name="typeDoc" formControlName="typeDocFormControl"></app-form-select>
    </div>
    <div class="mr-2"></div>
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'# de documento'" name="nroDoc" formControlName="nroDocFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Raz贸n Social'" name="names" formControlName="socialReasonFormControl"></app-form-input>
    </div>
  </ng-container>
</ng-template>

<ng-template #legalRepresentative>
  <ng-container [formGroup]="taxPayerPresenterSrv.taxpayerFormGroup">
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-select [ngClass]="'taxpayer__item'" [label]="'Tipo de documento'" [list]="typeDocs" name="typeDoc" formControlName="typeDocRepresentativeFormControl"></app-form-select>
    </div>
    <div class="mr-2"></div>
    <div  nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'# de documento'" name="nroDoc" formControlName="nroDocRepresentativeFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Nombres'" name="names" formControlName="namesRepresentativeFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Apellido paterno'" name="lastName" formControlName="lastNameRepresentativeFormControl"></app-form-input>
    </div>
    <div class="mr-2"></div>
    <div nz-col [nzMd]="4" [nzXs]="24">
      <app-form-input [ngClass]="'taxpayer__item'" [label]="'Apellido materno'" name="motherLastname" formControlName="motherLastnameRepresentativeFormControl"></app-form-input>
    </div>
  </ng-container>
</ng-template>
